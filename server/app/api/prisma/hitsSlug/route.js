"use strict";(()=>{var e={};e.id=3973,e.ids=[3973],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5173:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>P,originalPathname:()=>w,requestAsyncStorage:()=>p,routeModule:()=>u,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>c});var a={};r.r(a),r.d(a,{GET:()=>GET}),r(78976);var s=r(10884),i=r(16132),n=r(53524);let o=new n.PrismaClient;async function GET(e){try{let t=e.nextUrl.searchParams,r=t.get("slug");if(!r)return new Response("Please provide a slug",{status:200});let a=0;{let e=await o.post.findUnique({where:{slug:r}});if(e){let t=await o.post.update({where:{id:e.id},data:{views:e.views+1}});a=t.views}else{let e=await o.post.create({data:{slug:r,views:1}});a=e.views}}return new Response(JSON.stringify({Views:a}),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error(e),new Response("Internal Server Error",{status:500})}finally{await o.$disconnect()}}let u=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/prisma/hitsSlug/route",pathname:"/api/prisma/hitsSlug",filename:"route",bundlePath:"app/api/prisma/hitsSlug/route"},resolvedPagePath:"/Users/saifmohamedsv/Work/Personal Portfolios/b-r.io/app/api/prisma/hitsSlug/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:l,serverHooks:d,headerHooks:P,staticGenerationBailout:c}=u,w="/api/prisma/hitsSlug/route"},16132:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[4933],()=>__webpack_exec__(5173));module.exports=r})();