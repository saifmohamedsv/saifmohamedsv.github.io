"use strict";exports.id=636,exports.ids=[636],exports.modules={50636:(e,t,n)=>{e.exports=n(19476)},19476:(e,t,n)=>{var r=n(57310).parse,o=n(82361),s=n(95687),i=n(13685),a=n(73837),c=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],u=[239,187,191],v=/^(cookie|authorization)$/i;function EventSource(e,t){var n,o=EventSource.CONNECTING,a=t&&t.headers,l=!1;Object.defineProperty(this,"readyState",{get:function(){return o}}),Object.defineProperty(this,"url",{get:function(){return e}});var p=this;function onConnectionClosed(t){o!==EventSource.CLOSED&&(o=EventSource.CONNECTING,_emit("error",new Event("error",{message:t})),C&&(e=C,C=null,l=!1),setTimeout(function(){o!==EventSource.CONNECTING||p.connectionInProgress||(p.connectionInProgress=!0,connect())},p.reconnectInterval))}p.reconnectInterval=1e3,p.connectionInProgress=!1;var f="";a&&a["Last-Event-ID"]&&(f=a["Last-Event-ID"],delete a["Last-Event-ID"]);var d=!1,h="",E="",C=null;function connect(){var y=r(e),g="https:"===y.protocol;if(y.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},f&&(y.headers["Last-Event-ID"]=f),a){var m=l?function(e){var t={};for(var n in e)v.test(n)||(t[n]=e[n]);return t}(a):a;for(var S in m){var b=m[S];b&&(y.headers[S]=b)}}if(y.rejectUnauthorized=!(t&&!t.rejectUnauthorized),t&&void 0!==t.createConnection&&(y.createConnection=t.createConnection),t&&t.proxy){var O=r(t.proxy);g="https:"===O.protocol,y.protocol=g?"https:":"http:",y.path=e,y.headers.Host=y.host,y.hostname=O.hostname,y.host=O.host,y.port=O.port}if(t&&t.https){for(var N in t.https)if(-1!==c.indexOf(N)){var P=t.https[N];void 0!==P&&(y[N]=P)}}t&&void 0!==t.withCredentials&&(y.withCredentials=t.withCredentials),(n=(g?s:i).request(y,function(t){if(p.connectionInProgress=!1,500===t.statusCode||502===t.statusCode||503===t.statusCode||504===t.statusCode){_emit("error",new Event("error",{status:t.statusCode,message:t.statusMessage})),onConnectionClosed();return}if(301===t.statusCode||302===t.statusCode||307===t.statusCode){var n,r,s=t.headers.location;if(!s){_emit("error",new Event("error",{status:t.statusCode,message:t.statusMessage}));return}l=new URL(e).origin!==new URL(s).origin,307===t.statusCode&&(C=e),e=s,process.nextTick(connect);return}if(200!==t.statusCode)return _emit("error",new Event("error",{status:t.statusCode,message:t.statusMessage})),p.close();o=EventSource.OPEN,t.on("close",function(){t.removeAllListeners("close"),t.removeAllListeners("end"),onConnectionClosed()}),t.on("end",function(){t.removeAllListeners("close"),t.removeAllListeners("end"),onConnectionClosed()}),_emit("open",new Event("open"));var i=0,a=-1,c=0,v=0;t.on("data",function(t){if(n)t.length>n.length-v&&((c=2*n.length+t.length)>262144&&(c=n.length+t.length+262144),r=Buffer.alloc(c),n.copy(r,0,0,v),n=r),t.copy(n,v),v+=t.length;else{var o;o=n=t,u.every(function(e,t){return o[t]===e})&&(n=n.slice(u.length)),v=n.length}for(var s=0,l=v;s<l;){d&&(10===n[s]&&++s,d=!1);for(var C,y=-1,g=a,m=i;y<0&&m<l;++m)58===(C=n[m])?g<0&&(g=m-s):13===C?(d=!0,y=m-s):10===C&&(y=m-s);if(y<0){i=l-s,a=g;break}i=0,a=-1,function(t,n,r,o){if(0===o){if(h.length>0){var s=E||"message";_emit(s,new MessageEvent(s,{data:h.slice(0,-1),lastEventId:f,origin:new URL(e).origin})),h=""}E=void 0}else if(r>0){var i=r<0,a=0,c=t.slice(n,n+(i?o:r)).toString();a=i?o:32!==t[n+r+1]?r+1:r+2,n+=a;var u=o-a,v=t.slice(n,n+u).toString();if("data"===c)h+=v+"\n";else if("event"===c)E=v;else if("id"===c)f=v;else if("retry"===c){var l=parseInt(v,10);Number.isNaN(l)||(p.reconnectInterval=l)}}}(n,s,g,y),s+=y+1}s===l?(n=void 0,v=0):s>0&&(v=(n=n.slice(s,v)).length)})})).on("error",function(e){p.connectionInProgress=!1,onConnectionClosed(e.message)}),n.setNoDelay&&n.setNoDelay(!0),n.end()}function _emit(){p.listeners(arguments[0]).length>0&&p.emit.apply(p,arguments)}connect(),this._close=function(){o!==EventSource.CLOSED&&(o=EventSource.CLOSED,n.abort&&n.abort(),n.xhr&&n.xhr.abort&&n.xhr.abort())}}function Event(e,t){if(Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)for(var n in t)t.hasOwnProperty(n)&&Object.defineProperty(this,n,{writable:!1,value:t[n],enumerable:!0})}function MessageEvent(e,t){for(var n in Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)t.hasOwnProperty(n)&&Object.defineProperty(this,n,{writable:!1,value:t[n],enumerable:!0})}e.exports=EventSource,a.inherits(EventSource,o.EventEmitter),EventSource.prototype.constructor=EventSource,["open","error","message"].forEach(function(e){Object.defineProperty(EventSource.prototype,"on"+e,{get:function(){var t=this.listeners(e)[0];return t?t._listener?t._listener:t:void 0},set:function(t){this.removeAllListeners(e),this.addEventListener(e,t)}})}),Object.defineProperty(EventSource,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(EventSource,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(EventSource,"CLOSED",{enumerable:!0,value:2}),EventSource.prototype.CONNECTING=0,EventSource.prototype.OPEN=1,EventSource.prototype.CLOSED=2,EventSource.prototype.close=function(){this._close()},EventSource.prototype.addEventListener=function(e,t){"function"==typeof t&&(t._listener=t,this.on(e,t))},EventSource.prototype.dispatchEvent=function(e){if(!e.type)throw Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit(e.type,e.detail)},EventSource.prototype.removeEventListener=function(e,t){"function"==typeof t&&(t._listener=void 0,this.removeListener(e,t))}}};